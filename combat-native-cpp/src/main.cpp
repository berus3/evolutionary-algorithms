/*

This file was used for testing
You might want to ignore this file
This file was used for testing
You might want to ignore this file
This file was used for testing
You might want to ignore this file
This file was used for testing
You might want to ignore this file
This file was used for testing
You might want to ignore this file
This file was used for testing
You might want to ignore this file
This file was used for testing
You might want to ignore this file
This file was used for testing
You might want to ignore this file
This file was used for testing

*/

#include "../include/main.hpp"
#include <chrono>
#include <algorithm>
#include <numeric>
#include <iostream>

// printing helpers
static double mean(const std::vector<double>& v) {
    if (v.empty()) return 0.0;
    return std::accumulate(v.begin(), v.end(), 0.0) / static_cast<double>(v.size());
}

static std::vector<size_t> topk_indices(const std::vector<double>& v, size_t k) {
    std::vector<size_t> idx(v.size());
    std::iota(idx.begin(), idx.end(), 0);
    if (k > idx.size()) k = idx.size();
    std::partial_sort(
        idx.begin(), idx.begin() + k, idx.end(),
        [&](size_t a, size_t b) { return v[a] > v[b]; }
    );
    idx.resize(k);
    return idx;
}

int main() {

    
    int genome[] = {
        0, 0, 0, 2, 3, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 26, 26, 26, 26, 26, 26, 26, 26, 26, 27, 27, 27, 27, 27, 27, 27, 27, 27, 37, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 3, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4, 4, 5, 5, 5, 5, 5, 5, 6, 6, 6, 6, 6, 6, 6, 6, 6, 11, 11, 13, 34, 37, 37, 37, 37, 37, 37, 38, 38, 38, 41, 41, 41, 41, 41, 41, 41, 0, 0, 0, 0, 0, 0, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 8, 8, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 20, 20, 20, 20, 20, 20, 20, 24, 24, 37, 37, 37, 37, 37, 37, 42, 2, 2, 4, 6, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 14, 14, 15, 19, 19, 19, 19, 25, 26, 26, 27, 40, 40, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 3, 3, 3, 3, 3, 3, 3, 3, 3, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 12, 12, 38, 38, 41, 41, 41, 41, 41, 41
    };
    
    int genome_fine_tunned[] = {
        0, 0, 0, 0, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 26, 26, 26, 26, 26, 26, 26, 26, 26, 27, 27, 27, 27, 27, 27, 27, 27, 27, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39,
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 6, 6, 6, 6, 6, 6, 6, 37, 37, 37, 37, 37, 38, 38, 38, 38, 38, 38, 38, 38, 38, 38, 38, 38, 38, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41,
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 4, 4, 4, 5, 5, 5, 6, 6, 6, 6, 6, 6, 6, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33,
        12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 26, 26, 26,
        12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 25, 25, 25, 25, 25, 26, 26, 39, 39, 39, 39, 39, 39, 39, 39, 39
    };

    int genome2[] = {
        // P0 adc: 30 ad(2), 10 armor_pen(4), 10 lethality(5), 20 as(6), 5 crit(7), 5 crit_factor(8), 20 focus(42)
        2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
        2, 2, 2, 2, 2, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
        6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 7, 7, 7, 7, 7,
        8, 8, 8, 8, 8, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42,
        42, 42, 42, 42,

        // P1 tanque: 40 aggro(41), 20 max_hp(0), 20 regen(1), 20 armor(3)
        41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41,
        41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 3, 3, 3, 3, 3, 3, 3, 3, 3,
        3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,

        // P2 healer: 30 ap(12), 20 heal(21), 20 shield(31), 10 cd_heal(22), 10 cd_shield(33), 10 focus(42)
        12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12,
        12, 12, 12, 12, 12, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 22, 22, 22, 22, 22,
        22, 22, 22, 22, 22, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 42, 42, 42, 42, 42,
        42, 42, 42, 42, 24,

        // P3 fighter: 30 ad(2), 10 armor_pen(4), 10 lethality(5), 20 as(6), 5 armor(3), 5 aggro(41), 20 vamp(37)
        2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
        2, 2, 2, 2, 2, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
        6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 3, 3, 3, 3, 3,
        41, 41, 41, 41, 41, 37, 37, 37, 37, 37, 37, 37, 37, 37, 37, 37, 37, 37, 37, 37, 37,
        37, 37, 37, 37,

        // P4 warlock: 30 ax(39), 10 focus(42), 10 as(6), 5 lethality(5), 5 armor_pen(4), 20 smite(17), 20 cd_smite(18)
        41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41,
        41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 3, 3, 3, 3, 3, 3, 3, 3, 3,
        3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3
    };

    int genome2_2[] = {
    // P0 adc: 30 ad(2), 10 armor_pen(4), 10 lethality(5), 20 as(6), 5 crit(7), 5 crit_factor(8), 20 focus(42)
    2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
    2, 2, 2, 2, 2, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 7, 7, 7, 7, 7,
    8, 8, 8, 8, 8, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42,
    42, 42, 42, 42,

    // P1 tanque: 40 aggro(41), 20 max_hp(0), 20 regen(1), 20 armor(3)
    41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41,
    41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 3, 3, 3, 3, 3, 3, 3, 3, 3,
    3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,

    // P2 healer: 30 ap(12), 20 heal(21), 20 shield(31), 10 cd_heal(22), 10 cd_shield(33), 10 focus(42)
    12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12,
    12, 12, 12, 12, 12, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21,
    31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 22, 22, 22, 22, 22,
    22, 22, 22, 22, 22, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 42, 42, 42, 42, 42,
    42, 42, 42, 42, 23,

    // P3 fighter: 30 ad(2), 10 armor_pen(4), 10 lethality(5), 20 as(6), 5 armor(3), 5 aggro(41), 20 vamp(37)
    2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
    2, 2, 2, 2, 2, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 3, 3, 3, 3, 3,
    41, 41, 41, 41, 41, 37, 37, 37, 37, 37, 37, 37, 37, 37, 37, 37, 37, 37, 37, 37, 37,
    37, 37, 37, 37,

    // P4 warlock: 30 ax(39), 10 focus(42), 10 as(6), 5 lethality(5), 5 armor_pen(4), 20 smite(17), 20 cd_smite(18)
    41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41,
    41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 3, 3, 3, 3, 3, 3, 3, 3, 3,
    3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3};

    int tier1[] = {
        // top
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
        2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 
        6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 
        37, 37, 37, 37, 37, 37, 37, 37, 37, 37, 37, 37, 37, 37, 37, 37, 37, 37, 37, 37, 
        41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42,

        // jg
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
        1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 
        3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 
        13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 
        40, 40, 40, 40, 40, 40, 40, 40, 40, 40, 
        41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41,
        
        // mid
        12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 
        14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 
        15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 
        16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 
        17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 
        18, 18, 18, 18, 18, 
        42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42,
        
        // adc
        2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 
        6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 
        7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 
        8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 
        42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42,
        
        // supp
        12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 
        16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 
        21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 
        22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 
        32, 32, 32, 32, 32, 
        33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 
        42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42


    };
    
    int tier2[] = {
        // top
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 8, 8, 8, 8, 8, 12, 12, 12, 12, 12, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 24, 24, 24, 24, 24, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42,
        // jg
        0, 0, 0, 0, 0, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 37, 37, 37, 37, 37, 37, 37, 37, 37, 37,
        // mid
        12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 23, 23, 23, 23, 23, 24, 24, 24, 24, 24, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42,
        // adc
        2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42,
        // supp
        12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42
        
    };
    
    int tier3[] = {
        // top
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 2, 2, 2, 2, 2,
        2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
        3, 3, 3, 3, 3, 3, 3, 9, 9, 9,
        9, 9, 9, 9, 10,10,10,10,10,10,
        10,11,11,11,11,11,11,11,13,13,
        13,13,13,13,13,37,37,37,37,37,
        37,37,37,37,37,41,41,41,41,41,
        41,41,41,41,41,41,41,41,41,41,
        41,41,41,41,41,42,42,42,42,42,
        // jg
        12,12,12,12,12,12,12,12,12,12,
        12,12,12,12,12,23,23,23,23,23,
        23,23,23,23,23,24,24,24,24,24,
        24,24,24,24,24,14,14,14,14,14,
        14,14,14,14,14,14,14,14,14,14,
        14,14,14,14,14,15,15,15,15,15,
        15,15,15,15,15,15,15,15,15,15,
        15,15,15,15,15,41,41,41,41,41,
        41,41,41,41,41,41,41,41,41,41,
        41,41,41,41,41,41,41,41,41,41,
        // mid
        0, 0, 0, 0, 0, 1, 1, 1, 3, 3,
        3, 3, 3, 3, 3, 3, 6, 6, 6, 12,
        12,12,12,12,12,12,12,12,12,12,
        12,12,12,12,14,14,14,14,14,14,
        14,14,14,14,15,15,15,15,15,15,
        15,15,15,15,17,17,17,17,17,17,
        17,18,18,18,18,18,18,18,19,19,
        19,19,19,19,19,20,20,20,20,20,
        20,20,41,41,41,41,41,41,41,41,
        41,41,42,42,42,42,42,42,42,42,
        // adc
        0, 0, 0, 0, 0, 2, 2, 2, 2, 2,
        2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
        4, 4, 4, 4, 4, 4, 4, 4, 4, 4,
        5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
        6, 6, 6, 6, 6, 7, 7, 7, 7, 7,
        7, 7, 7, 7, 7, 8, 8, 8, 8, 8,
        8, 8, 8, 8, 8, 41,41,41,41,41,
        41,41,41,41,41,41,41,41,41,41,
        41,41,41,41,41,41,41,41,41,41,
        42,42,42,42,42,42,42,42,42,42,
        // supp
        0, 0, 0, 0, 0, 12,12,12,12,12,
        12,12,12,12,12,12,12,12,12,12,
        16,16,16,16,16,16,16,16,16,16,
        16,16,16,16,16,21,21,21,21,21,
        21,21,21,21,21,21,21,21,21,21,
        22,22,22,22,22,22,22,22,22,22,
        25,25,25,25,25,25,25,25,25,25,
        26,26,26,26,26,26,26,26,26,26,
        27,27,27,27,27,42,42,42,42,42,
        42,42,42,42,42,42,42,42,42,42

    };

    int tier4[] = {
        // top
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
        3, 3, 3, 3, 3, 3, 3, 3, 13,13,
        13,13,13,13,13,13,2, 2, 2, 2,
        2, 2, 2, 2,12,12,12,12,12,34,
        34,34,34,36,36,36,36,35,35,38,
        38,38,38,38,38,38,38,38,38,42,
        42,42, 8, 8, 8, 8, 8, 8, 8, 8,
        8, 8, 8, 8, 8, 8, 8, 8, 8, 8,
        8, 8, 8, 8, 8, 8, 8, 8, 8, 8,
        // jg
        0, 0, 0, 0, 2, 2, 2, 2, 2, 2,
        2, 2, 2, 2, 2, 2, 2, 5, 5, 5,
        5, 5, 5, 5, 5, 5, 5, 6, 6, 6,
        6, 6, 6, 6, 6, 6, 6, 6, 6, 6,
        4, 4, 4, 4, 4, 4, 4, 4, 4, 4,
        42,42,42,42,42,41,41,41,41,41,
        41,41,41,41,41,41,41,41,41,41,
        41,41,41,41,41,41,41,41,41,41,
        41,41,41,41,41,41,41,41,41,41,
        41,41,41,41,41,41,41,41,41,41,
        // mid
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
        12,12,12,12,12,12,12,12,12,12,
        12,12,15,15,15,15,15,15,15,15,
        17,17,17,17,17,17,17,17,18,18,
        18,18,18,19,19,19,19,20,20,20,
        21,21,21,21,21,21,21,21,21,22,
        16,16,16,16,16,16,16,16,16,16,
        41,41,41,41,41,41,41,41,41,41,
        41,41,41,41,41,41,41,41,41,41,
        41,41,41,41,41,41,41,41,41,41,
        // adc
        0, 0, 0, 0, 0, 2, 2, 2, 2, 2,
        2, 2, 2, 2, 2, 4, 4, 4, 5, 5,
        6, 6, 6, 6, 6, 7, 7, 7, 7, 7,
        7, 7, 7, 7, 7, 8, 8, 8, 8, 8,
        8, 8, 8, 8, 8, 37,37,37,37,37,
        37,37,37,37,37,42,42,42,42,42,
        41,41,41,41,41,41,41,41,41,41,
        41,41,41,41,41,41,41,41,41,41,
        41,41,41,41,41,41,41,41,41,41,
        41,41,41,41,41,41,41,41,41,41,
        // supp
        12,12,12,12,12,12,12,12,12,12,
        12,12,12,12,12,16,16,16,16,16,
        16,16,16,16,16,16,16,16,16,16,
        1, 1, 1, 1,14,14,14,14,17,17,
        17,17,17,17,17,17,17,17,18,18,
        18,18,18,41,41,41,41,41,41,41,
        41,41,41,41,41,41,41,41,41,41,
        41,41,41,41,41,41,41,41,41,41,
        41,41,41,41,41,41,41,41,41,41,
        41,41,41,41,41,41,41,41,41,41
    };

    int tier5[] = {
        // top
        0, 0, 0, 0, 0, 2, 2, 2, 2, 2,
        2, 2, 2, 8, 8, 8, 8, 8,12,12,
        12,12,12,16,16,16,16,16,16,16,
        16,16,16,17,17,17,17,17,17,17,
        17,17,17,18,18,19,19,19,20,20,
        20,21,21,21,21,21,22,22,22,31,
        31,31,31,31,32,32,32,32,32,37,
        37,37,41,41,41,41,41,41,41,41,
        41,41,41,41,41,41,41,41,41,41,
        41,41,41,41,41,41,41,41,41,41,
        // jg
        0, 0, 0, 0, 0, 1, 1, 1, 2, 2,
        2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
        3, 3, 3, 5, 5, 5, 5, 6, 6, 6,
        37,37,37,37,37,37,37,37,37,37,
        37,37,37,37,37,41,41,41,41,41,
        41,41,41,41,41,41,41,41,41,41,
        41,41,41,41,41,41,41,41,41,41,
        41,41,41,41,41,41,41,41,41,41,
        41,41,41,41,41,41,41,41,41,41,
        41,41,41,41,41,41,41,41,41,41,
        // mid
        0, 0, 0, 0, 0, 1, 1, 1, 3, 3,
        3, 3, 3, 3, 3, 3, 2, 2, 2, 6,
        6, 6,12,12,12,12,12,12,12,12,
        12,12,12,12,12,12,15,15,15,15,
        17,17,17,18,18,19,19,19,20,20,
        41,41,41,41,41,41,41,41,41,41,
        41,41,41,41,41,41,41,41,41,41,
        41,41,41,41,41,41,41,41,41,41,
        41,41,41,41,41,41,41,41,41,41,
        41,41,41,41,41,41,41,41,41,41,
        // adc
        0, 0, 1, 2, 2, 2, 2, 2, 2, 2,
        2, 6,37,37, 7, 7, 7, 7, 7, 7,
        7, 7, 7, 7, 8, 8, 8, 8, 8, 8,
        41,41,41,41,41,41,41,41,41,41,
        41,41,41,41,41,41,41,41,41,41,
        41,41,41,41,41,41,41,41,41,41,
        41,41,41,41,41,41,41,41,41,41,
        41,41,41,41,41,41,41,41,41,41,
        41,41,41,41,41,41,41,41,41,41,
        41,41,41,41,41,41,41,41,41,41,
        // supp
        0, 0, 0, 0, 0,12,12,12,12,12,
        12,12,12,12,12,12,12,12,15,15,
        15,15,17,17,17,18,18,18,19,19,
        19,20,20,20,23,23,23,23,24,24,
        24,24,41,41,41,41,41,41,41,41,
        41,41,41,41,41,41,41,41,41,41,
        41,41,41,41,41,41,41,41,41,41,
        41,41,41,41,41,41,41,41,41,41,
        41,41,41,41,41,41,41,41,41,41,
        41,41,41,41,41,41,41,41,41,41

    };

    int anchor_2_fine_tunned[] = {
        // P0 adc: 40 ad(2), 5 crit_factor(8), 10 crit(7), 20 as(6), 20 focus(42), 5 armor_pen(4)
        2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
        2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 8, 8, 8, 8, 8, 7, 7, 7, 7, 7,
        7, 7, 7, 7, 7, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6,
        42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 4, 4, 4, 4, 4,

        // P1 mage sniper: 50 ap(12), 30 cd_smite(18), 20 focus(42)
        12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12,
        12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12,
        18, 18, 18, 18, 18, 18, 18, 18, 18, 18, 18, 18, 18, 18, 18, 18, 18, 18, 18, 18, 18, 18, 18, 18, 18,
        18, 18, 18, 18, 18, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42,

        // P2 tanque: 30 aggro(41), 15 max_hp(0), 25 regen(1), 15 armor(3), 15 mr(13)
        41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41,
        41, 41, 41, 41, 41, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1,
        1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 3, 3, 3, 3, 3,
        3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13,

        // P3 tanque: igual al P2
        41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41, 41,
        41, 41, 41, 41, 41, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1,
        1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 3, 3, 3, 3, 3,
        3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13,

        // P4 mage marker: 30 ap(12), 20 mark(34), 20 cd_mark(36), 10 mark_ticks(35), 20 focus(42)
        12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12,
        12, 12, 12, 12, 12, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34,
        36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 35, 35, 35, 35, 35,
        35, 35, 35, 35, 35, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42
    };

    chooseInstance(PIECEWISE);

    Team* t1 = buildTeamFromGenome(tier1, 1);
    Team* t2 = buildTeamFromGenome(tier2, 2);
    Team* t3 = buildTeamFromGenome(tier3, 3);
    Team* t4 = buildTeamFromGenome(tier4, 4);
    Team* t5 = buildTeamFromGenome(tier5, 5);
    Team* t6 = buildTeamFromGenome(genome2, 6);
    Team* t7 = buildTeamFromGenome(anchor_2_fine_tunned, 7);
    Team* teams[] = {t1, t2, t3, t4, t5};
    fight(t7, t2);
    
    // int wins[5][5] = {
    //                 {0, 0, 0, 0, 0},
    //                 {0, 0, 0, 0, 0},
    //                 {0, 0, 0, 0, 0},
    //                 {0, 0, 0, 0, 0},
    //                 {0, 0, 0, 0, 0}
    //             };
    // // FFA
    // for (int seed = 0; seed < 100; ++seed) {
    //     GLOBAL_SEED = seed;
    //     for (int i = 0; i < 5; ++i) {
    //         for (int j = i + 1; j < 5; ++j) {
    //             if (fight(teams[i], teams[j]) == TEAM1_WIN) {
    //                 wins[i][j]++;
    //             } else {
    //                 wins[j][i]++;
    //             }
    //         }
    //     }
    // }
    
    // for (int i = 0; i < 5; ++i) {
    //     for (int j = 0; j < 5; ++j) {
    //         std::cout << "(" << i << "," << j << ") : " << wins[i][j] << std::endl;
    //     }
    // }
    
    // if (fight(t3, t5) == TEAM1_WIN) {
    //     std::cout << "t3 won" << std::endl;
    // } else {
    //     std::cout << "t5 won" << std::endl;
    // }
    
    for (int i = 0; i < 5; ++i) {
        delete teams[i];
    }
    
    return 0;

}
